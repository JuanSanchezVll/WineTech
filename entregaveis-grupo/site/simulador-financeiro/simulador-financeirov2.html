<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-image: url("fundo.png");
            /* Caminho da sua imagem */
            width: 100%;

        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            height: 100px;
            padding: 40px;
            background-color: #520505;  

        }

        header img {
            width: 100px;
        }

        header p {
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            font-size: 14px;
            color: white;
            padding-right: 50px;
        }

        .conteudo {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .titulo_subtitulo {
            margin: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .input-box {
            display: flex;
            flex-direction: column;
        }

        .input-box input {
            padding: 0.4rem 0.6rem;
            border-radius: 10px;
            margin: 5px;
        }

        .input-box label {
            font-weight: bold;
        }

        .button {
            margin-top: 1rem;
        }

        .button button {
            font-size: 13 px;
            padding: 8px;
            border-radius: 10px;
            background-color: #520505;
            color: white;
            font-weight: bold;
        }

        .resultados {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

    </style> -->
</head>

<header>
    <img src="logo.png" alt="">
    <p>HOME</p>
</header>

<body>
    <div class="conteudo">
        <div class="titulo_subtitulo">
            <h2>Simulador Financeiro</h2>
            <p>Proteja seu investimento e evite perdas significativas com monitoramento inteligente.</p>
        </div>

        <!-- Grupo de inputs -->
        <div class="input-group">
            <!-- 1 INPUT: Quantidade de barris em estoque -->
            <div class="input-box">
                <label for="inputQuantidadeBarris">Informe a quantidade de barris no estoque:</label>
                <input type="text" name="inputQuantidadeBarris" id="inputQuantidadeBarris">
            </div>

            <!-- 2 INPUT: Preço do barril -->
            <div class="input-box">
                <label for="inputPrecoBarril">Informe o preço do barril:</label>
                <input type="text" name="inputPrecoBarril" id="inputPrecoBarril">
            </div>

            <!-- 3 INPUT: Temperatura do cave -->
            <div class="input-box">
                <label for="inputTemperaturaMedia">Informe a temperatura média do cave:</label>
                <input type="text" name="inputTemperaturaMedia" id="inputTemperaturaMedia">
            </div>

            <!-- 4 INPUT: Porcentagem de umidade do cave -->
            <div class="input-box">
                <label for="inputUmidadeMedia">Informe a umidade média do cave:</label>
                <input type="text" name="inputUmidadeMedia" id="inputUmidadeMedia">
            </div>
        </div>

        <div class="button">
            <button onclick="simular()">Simular</button>
        </div>

        <div class="resultados">
            <!-- 1 SAIDA: Economia potencial com Winesafe -->
            <div id="resumoLucro"></div>

            <!-- 2 SAIDA: Relatório do cave -->
            <div id="relatorio"></div>

            <!-- 3 SAIDA: Sem Winetech  -->
            <div id="semWinetech"></div>

            <!-- 4 SAIDA: Com Winetech -->
            <div id="comWinetech"></div>
        </div>

    </div>
</body>

<script>
    function simular() {
        // Variáveis para os cálculos
        var quantidadeBarris = Number(inputQuantidadeBarris.value);
        var precoBarril = Number(inputPrecoBarril.value);
        var temperatura = Number(inputTemperaturaMedia.value);
        var umidade = Number(inputUmidadeMedia.value);

        // Variáveis para validações 
        var msg_erro_vazio = " é obrigatório. Insira um valor válido";
        var msg_erro_entrada_nula = " não pode ser menor ou igual a zero. Insira um valor válido";

        // Validações
        if (inputQuantidadeBarris.value == '') {
            alert("O campo 'Quantidade barris'" + msg_erro_vazio);

        } else if (quantidadeBarris <= 0) {
            alert("O campo 'Quantidade barris'" + msg_erro_entrada_nula);

        } else if (quantidadeBarris % 1 != 0) {
            alert("O campo 'Quantidade barris' não pode ser um número decimal. Insira um número inteiro");

        } else if (inputPrecoBarril.value == '') {
            alert("O campo 'Preço barril'" + msg_erro_vazio);

        } else if (precoBarril <= 0) {
            alert("O campo 'Preço barril'" + msg_erro_entrada_nula);

        } else if (inputTemperaturaMedia.value == '') {
            alert("O campo 'Temperatura média'" + msg_erro_vazio);

        } else if (temperatura <= 0) {
            alert("O campo 'Temperatura média'" + msg_erro_entrada_nula);

        } else if (inputUmidadeMedia.value == '') {
            alert("O campo 'Umidade média'" + msg_erro_vazio);

        } else if (umidade <= 0 || umidade >= 100) {
            alert("O campo 'Umidade média' deve estar entre 1 e 100. Insira um valor válido");
            
        // Variáveis e cálculos para os resultados
        } else {
            
            // Variável para o cálculo de temperatura
            var perdaTemp = 0;
            if (temperatura < 10) {
                perdaTemp = 1;
            } else if (temperatura >= 10 && temperatura <=13) {
                perdaTemp = 0.3;
            } else if (temperatura >= 14 && temperatura <= 16) {
                perdaTemp = 0.03;
            } else if (temperatura > 16 && temperatura <= 20) {
                perdaTemp = 0.3;
            } else if (temperatura > 20) {
                perdaTemp = 1;
            }

            // Variável para o cálculo de umidade  
            var perdaUmid = 0;
            if (umidade < 50) {
                perdaUmid = 1;
            } else if (umidade >= 50 && umidade < 60) {
                perdaUmid = 0.3;
            } else if (umidade >= 60 && umidade <= 75) {
                perdaUmid = 0.03;
            } else if (umidade > 75 && umidade <= 85) {
                perdaUmid = 0.3;
            } else if (umidade > 85) {
                perdaUmid = 1;
            }

            /* Nessa parte ele vai atribuir a variavel perda, qual for a perda maior, 
            pois se uma das duas condições de temperatura e umidade estiverem estáveis
            o vinho fica propício a estragar */
            var perda = 0;
            if (perdaTemp >= perdaUmid) {
                perda = perdaTemp;
            } else {
                perda = perdaUmid;
            }

            // Cenário da situação dos vinhos do cliente
            var cenario = "";
            if (perda == 1) {
                cenario = "Alerta máximo: Perda total";
            } else if (perda == 0.3) {
                cenario = "Alerta moderado: Perda moderada";
            } else {
                cenario = "Cenário ideal: Perda mínima";
            }

            // Variáveis para o cálculo da 2° SAIDA: relatório do cave
            var garrafaPorBarril = 300;
            var totalGarrafa = quantidadeBarris * garrafaPorBarril;
            /* Quantidade de garrafas por barril é de 300, e o valor médio de uma garrafa
            de vinho tinto de corpo médio é de 120 R$, ou seja o preço de cada barril
            é de aproximadamente 36000 R$ */
            var valorCave = quantidadeBarris * precoBarril; 

            // Variáveis para a 3° SAIDA: Sem Winetech
            var barrisPerdidos = quantidadeBarris * perda;
            barrisPerdidos = barrisPerdidos.toFixed(0);
            var totalMensal = (precoBarril * quantidadeBarris) * 6;
            var prejuizo = (precoBarril * barrisPerdidos) * 6;
            var porcentagemPrejuizo = (prejuizo / totalMensal) * 100;

            // Variáveis para a 4° SAIDA: Com Winetech | 1° SAIDA:
            if (perda == 0.03) {
                var reducaoPrejuizo = precoBarril * barrisPerdidos;
                var cantoDosAnjosPercent = 0.03
            } else {
                var reducaoPrejuizo = prejuizo * 0.1;  
                var cantoDosAnjosPercent = 0.1;             
            }
            var cantoDosAnjos = quantidadeBarris * cantoDosAnjosPercent;
            var barrisPreservados = (quantidadeBarris - barrisPerdidos) + cantoDosAnjos;
            if (barrisPreservados < 0) {
                barrisPreservados = 0;
            }

            // Sem WineTech

            // 1 SAIDA: Economia potencial com Winesafe 
            resumoLucro.innerHTML = `
                <div class="resumo">
                <br><b>Economia potencial usando WineSafe:</b> R$ ${reducaoPrejuizo.toFixed(2)}<br>
                <i>Proteja seu investimento e evite perdas significativas   com monitoramento inteligente.</i>
                </div>`;

            // 2 SAIDA: Relatório do cave
            relatorio.innerHTML = `
                <hr>
                <h3>Cenário Simulado</h3>
                <p><b>Quantidade de barris:</b> ${quantidadeBarris}</p>
                <p><b>Total de garrafas:</b> ${totalGarrafa}</p>
                <p><b>Valor total do cave: </b>R$ ${valorCave}</p>`;

            // 3 SAIDA: Sem Winetech
            if (perda == 0.03) {
                semWinetech.innerHTML =
                    `<h1>Sem a Winetech</h1>
                    <b>Porcentagem de perda estimada:</b> <b><span style="color: red;">3%<br></span></b>
                    <b>Cenário:</b> ${cenario}<br>
                    <b>Quantidade de barris perdidos:</b> <b>${barrisPerdidos}</b> barris perdidos<br>
                    <b>Prejuízo semestral estimado:</b> R$ <span style="color: red;">${prejuizo.toFixed(2)}</span>`;
            } else if (perda == 0.3) {
                semWinetech.innerHTML =
                    `<h1>Sem a Winetech</h1>
                    <b>Porcentagem de perda estimada:</b> <b><span style="color: red;">30%<br></span></b>
                    <b>Cenário:</b> ${cenario}<br>
                    <b>Quantidade de barris perdidos:</b> <b>${barrisPerdidos}</b> barris perdidos<br>
                    <b>Prejuízo semestral estimado:</b> R$ <span style="color: red;">${prejuizo.toFixed(2)}</span>`;
            } else {
                semWinetech.innerHTML =
                    `<h1>Sem a Winetech</h1>
                    <b>Porcentagem de perda estimada:</b> <b><span style="color: red;">100%<br></span></b>
                    <b>Cenário:</b> ${cenario}<br>
                    <b>Quantidade de barris perdidos:</b> <b>${barrisPerdidos}</b> barris perdidos<br>
                    <b>Prejuízo semestral estimado:</b> R$ <span style="color: red;">${prejuizo.toFixed(2)}</span>`;
            }

            // 4 SAIDA: Com Winetech
            if (perda == 0.03) {
                comWinetech.innerHTML =
                `<h1>Com a Winetech</h1>
                <b>Porcentagem de redução de perda estimada:</b> <b><span style="color: green;">3%</span></b><br>  
                <b>Redução de prejuízo semestral estimado:</b> R$ <b><span style="color: green;">${reducaoSemestral.toFixed(2)}</span></b><br>
                <b>Barris preservados pelos nossos serviços:</b> <b>${cantoDosAnjos.toFixed(0)}</b> barris<br>
                <b>Total de barris preservados:</b> <b>${barrisPreservados.toFixed(0)}</b> barris preservados<br>
                <b>com a WineTech, seu cave está protegido e o valor do vinho é preservado!</b>`;
            } else {
                comWinetech.innerHTML =
                `<h1>Com a Winetech</h1>
                <b>Porcentagem de redução de perda estimada:</b> <b><span style="color: green;">10%</span></b><br>  
                <b>Redução de prejuízo semestral estimado:</b> R$ <b><span style="color: green;">${reducaoPrejuizo.toFixed(2)}</span></b><br>
                <b>Barris preservados pelos nossos serviços:</b> <b>${cantoDosAnjos.toFixed(0)}</b> barris<br>
                <b>Total de barris preservados:</b> <b>${barrisPreservados.toFixed(0)}</b> barris preservados<br>
                <b>com a WineTech, seu cave está protegido e o valor do vinho é preservado!</b>`;
            }
            
        
        }
    }
</script>

</html>